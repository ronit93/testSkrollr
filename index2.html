<!DOCTYPE html>
<html>
    <head>
        <title>Skrollr Test</title>

        <script type="text/javascript" src="./bower_components/bower-skrollr/skrollr.js"></script>
        <style type="text/css">
            * {
                padding: 0;
                margin: 0;
            }

            #section1, #section2, #section3, #footer {
                border: 1px solid green;
            }

            .gap {
                border: 1px solid blue;
            }
        </style>
    </head>

    <body>
        <!--
            Ronit:

            Essentially, I realized that to achieve a parallax effect with images that are scaled to an arbitrary size,
            requires that we either know the height of the image after its scaling (which is rather inelegant, and requires recomputation
            on resize which can be expensive), or make the height of the image a free parameter. The latter makes for more elegant and
            performant code.

            Wrt our previous attempts using an out-of-order fixed images, this requires images that are the same size as the screen
            (or scaled to the screen) which would be, in the first case, infeasible for multi-device, and in the second case,
            sometimes ugly. Such an approach would be more appropriate for the "classic parallax" seen in some Web 2.0 longform articles,
            where the image size is fixed and not variable and the document "scrolls through", as though the image were in a background plane
            (that is of course the definition of parallax).
        -->
        <article>
            <div id="section1" style="width: 100%; height: 1200px; background-color: white;">
                HELLO WORLD!
            </div>

            <!-- First parallax -->
            <div id="gap1" class="gap" style="width: 100%; height: 240px; overflow: hidden;">
                <!-- Choice of height here is arbitrary -->
                <!-- data-bottom-top depends on height -->
                <div style="width: 100%; height: 480px; background-image: url(./big_coffee.jpg); background-size: cover; position: relative;" data-top-bottom="top: 0px;" data-bottom-top="top: -240px;">
                </div>
            </div>

            <!-- Second parallax -->
            <div id="gap2" class="gap" style="width: 100%; height: 240px; background-color: transparent; overflow: hidden;">
                <!-- Choice of height here is arbitrary -->
                <!-- data-bottom-top depends on height -->
                <div style="width: 100%; height: 480px; background-image: url(./big_table.jpg); background-size: cover; position: relative;" data-top-bottom="top: 0px;" data-bottom-top="top: -240px;">
                </div>
            </div>

            <!-- Third dummy parallax -->
            <div id="gap3" class="gap" style="width: 100%; height: 240px; background-color: transparent; overflow: hidden;">
                <!-- Choice of height here is arbitrary -->
                <!-- data-bottom-top depends on height -->
                <div style="width: 100%; height: 480px; background-image: url(./big_office.jpg); background-size: cover; position: relative;" data-top-bottom="top: 0px;" data-bottom-top="top: -240px;">
                </div>
            </div>

            <div id="footer" style="width: 100%; height: 800px; background-color: white;">
                FOOTER, FULL SCROLL
            </div>
        </article>

        <script type="text/javascript">
            skrollr.init({
                smoothScrolling: false
            });
        </script>
    </body>
</html>
